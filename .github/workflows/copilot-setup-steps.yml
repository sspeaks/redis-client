name: Setup Agent

on:
  workflow_dispatch:
  push:
    paths:
      - .github/workflows/setup-agent.yml
  pull_request:
    paths:
      - .github/workflows/setup-agent.yml

jobs:
  copilot-setup-steps:

    runs-on: ubuntu-latest

    permissions:
      # If you want to clone the repository as part of your setup steps, for example to install dependencies, you'll need the `contents: read` permission. If you don't clone the repository in your setup steps, Copilot will do this for you automatically after the steps complete.
      contents: read

    steps:
    - uses: actions/checkout@v5
    - uses: cachix/install-nix-action@v31
      with:
        nix_path: nixpkgs=channel:nixos-unstable
    - name: "Boostrap build"
      run: nix-build
      
